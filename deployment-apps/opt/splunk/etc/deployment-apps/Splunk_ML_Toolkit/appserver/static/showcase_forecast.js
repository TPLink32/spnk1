webpackJsonp([12],{0:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__.p=function(){function make_url(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)seg=arguments[i].toString(),len=seg.length,len>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),output+="/"!=seg.charAt(0)?"/"+seg:seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg+"/@"+window.$C.BUILD_NUMBER,window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),djangoRoot=getConfigValue("DJANGO_ROOT_PATH",""),locale=getConfigValue("LOCALE","en-US"),combinedPath="";return combinedPath=djangoRoot&&output.substring(0,djangoRoot.length)===djangoRoot?output.replace(djangoRoot,djangoRoot+"/"+locale.toLowerCase()):"/"+locale+output,""==root||"/"==root?combinedPath:root+combinedPath}function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return make_url("/static/app/Splunk_ML_Toolkit/")+"/"}(),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__(48),__webpack_require__("splunkjs/mvc"),__webpack_require__("splunkjs/mvc/chartview"),__webpack_require__("splunkjs/mvc/dropdownview"),__webpack_require__("splunkjs/mvc/singleview"),__webpack_require__("splunkjs/mvc/tokenforwarder"),__webpack_require__("splunkjs/mvc/utils"),__webpack_require__("splunkjs/mvc/visualizationregistry"),__webpack_require__("views/shared/results_table/renderers/StringCellRenderer"),__webpack_require__(264),__webpack_require__(233),__webpack_require__(230),__webpack_require__(234),__webpack_require__(236),__webpack_require__(240),__webpack_require__(231),__webpack_require__(242),__webpack_require__(44),__webpack_require__(243),__webpack_require__(266),__webpack_require__(241),__webpack_require__(290),__webpack_require__(261),__webpack_require__(235),__webpack_require__(239),__webpack_require__(251)],__WEBPACK_AMD_DEFINE_RESULT__=function(_jquery,_underscoreMltk,_mvc,_chartview,_dropdownview,_singleview,_tokenforwarder,_utils,_visualizationregistry,_StringCellRenderer,_AlgorithmParamsGroup,_Footer,_Master,_DrilldownLinker,_QueryHistoryTable,_SearchStringDisplay,_Spinners,_compactTemplateString,_Options,_ShowcaseHistorySerializer,_ControlValidityStore,_ColorPalette,_NumericValueAlertModal,_EnhancedTextInputView,_Forms,_Searches,_BaseAssistantView){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var _jquery2=_interopRequireDefault(_jquery),_underscoreMltk2=_interopRequireDefault(_underscoreMltk),_mvc2=_interopRequireDefault(_mvc),_chartview2=_interopRequireDefault(_chartview),_dropdownview2=_interopRequireDefault(_dropdownview),_singleview2=_interopRequireDefault(_singleview),_tokenforwarder2=_interopRequireDefault(_tokenforwarder),_utils2=_interopRequireDefault(_utils),_visualizationregistry2=_interopRequireDefault(_visualizationregistry),_StringCellRenderer2=_interopRequireDefault(_StringCellRenderer),_AlgorithmParamsGroup2=_interopRequireDefault(_AlgorithmParamsGroup),_Footer2=_interopRequireDefault(_Footer),_Master2=_interopRequireDefault(_Master),DrilldownLinker=_interopRequireWildcard(_DrilldownLinker),_QueryHistoryTable2=_interopRequireDefault(_QueryHistoryTable),Spinners=_interopRequireWildcard(_Spinners),_compactTemplateString2=_interopRequireDefault(_compactTemplateString),_Options2=_interopRequireDefault(_Options),_ShowcaseHistorySerializer2=_interopRequireDefault(_ShowcaseHistorySerializer),_ControlValidityStore2=_interopRequireDefault(_ControlValidityStore),_NumericValueAlertModal2=_interopRequireDefault(_NumericValueAlertModal),_EnhancedTextInputView2=_interopRequireDefault(_EnhancedTextInputView),Forms=_interopRequireWildcard(_Forms),Searches=_interopRequireWildcard(_Searches),_BaseAssistantView2=_interopRequireDefault(_BaseAssistantView),_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_templateObject=_taggedTemplateLiteral(["| predict $predictFieldsToken|s$ as prediction algorithm=$predictAlgorithmToken|s$ future_timespan=$futureTimespanToken|s$\n                                                       holdback=$holdbackToken|s$ $periodValueToken$ lower$confidenceIntervalToken|s$=lower$confidenceIntervalToken|s$\n                                                       upper$confidenceIntervalToken|s$=upper$confidenceIntervalToken|s$"],["| predict $predictFieldsToken|s$ as prediction algorithm=$predictAlgorithmToken|s$ future_timespan=$futureTimespanToken|s$\n                                                       holdback=$holdbackToken|s$ $periodValueToken$ lower$confidenceIntervalToken|s$=lower$confidenceIntervalToken|s$\n                                                       upper$confidenceIntervalToken|s$=upper$confidenceIntervalToken|s$"]),_templateObject2=_taggedTemplateLiteral(["| fit $forecastAlgorithmToken$ _time $predictFieldsToken$ order=$orderToken$ $forecastAlgorithmParamsToken$ as prediction"],["| fit $forecastAlgorithmToken$ _time $predictFieldsToken$ order=$orderToken$ $forecastAlgorithmParamsToken$ as prediction"]),_templateObject3=_taggedTemplateLiteral(["| `forecastviz($futureTimespanToken$, $holdbackToken$, $predictFieldsToken|s$, $confidenceIntervalToken$)`"],["| \\`forecastviz($futureTimespanToken$, $holdbackToken$, $predictFieldsToken|s$, $confidenceIntervalToken$)\\`"]),_templateObject4=_taggedTemplateLiteral(["| kvstorelookup ",'\n                               | eval "Search query"=search_query,\n                               "Forecast Algorithm" = if(algorithm == "" OR isnull(algorithm), "','", algorithm),\n                               "Field to predict"=field_to_predict,\n                               "Algorithm Parameters" = algorithm_params, \n                               "R² Statistic"=r_squared, "RMSE"=rmse, "# of outliers"=outliers_count,\n                               "Actions"=actions'],["| kvstorelookup ",'\n                               | eval "Search query"=search_query,\n                               "Forecast Algorithm" = if(algorithm == "" OR isnull(algorithm), "','", algorithm),\n                               "Field to predict"=field_to_predict,\n                               "Algorithm Parameters" = algorithm_params, \n                               "R² Statistic"=r_squared, "RMSE"=rmse, "# of outliers"=outliers_count,\n                               "Actions"=actions']),_templateObject5=_taggedTemplateLiteral(['| loadjob $searchBarSearchJobIdToken$\n                           | head 1\n                           | transpose\n                           | fields column \n                           | search column != "column" AND column != "_*"'],['| loadjob $searchBarSearchJobIdToken$\n                           | head 1\n                           | transpose\n                           | fields column \n                           | search column != "column" AND column != "_*"']),_templateObject6=_taggedTemplateLiteral(["| eval isOutlier = if(prediction!=\"\" AND '$predictFieldsToken$' != \"\"\n                                                    AND ('$predictFieldsToken$' < 'lower$confidenceIntervalToken$(prediction)'\n                                                    OR '$predictFieldsToken$' > 'upper$confidenceIntervalToken$(prediction)'), 1, 0)"],["| eval isOutlier = if(prediction!=\"\" AND '$predictFieldsToken$' != \"\"\n                                                    AND ('$predictFieldsToken$' < 'lower$confidenceIntervalToken$(prediction)'\n                                                    OR '$predictFieldsToken$' > 'upper$confidenceIntervalToken$(prediction)'), 1, 0)"]),ForecastView=_BaseAssistantView2["default"].extend({headerOptions:{title:"Forecast Time Series",description:'Enter a search (should contain "_time" field with UNIX timestamp values)'},tabOptions:{primaryTabTitle:"Create New Forecast",historyTabTitle:"Load Existing Settings"},submitButtonText:"Forecast",searchBarTooltip:'The events returned should contain a "_time" field with UNIX timestamp values and at least one other numeric field.',render:function(){function updateExperiment(){self.addBasicExperimentInfo();var fields={searchStages:[{type:"main",settings:{algorithm:Forms.getToken("forecastAlgorithmToken"),params:getForecastAlgorithmParamsList(),targetVariable:"",featureVariables:[Forms.getToken("predictFieldsToken")],modelName:""}}]};self.model.experiment.set(fields)}function updateConfidenceIntervalStringToken(){var confInterval=Forms.getToken("confidenceIntervalToken");Forms.setToken("confidenceIntervalStringToken",confInterval)}function getVizQuery(){var sharedSearchArray=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[forecastSearchString],vizQueryArray=[self.model.searchInfo.get("baseSearchString")].concat(sharedSearchArray),vizQuerySearch=DrilldownLinker.createSearch(vizQueryArray,self.model.searchInfo.get("baseTimerange"));return[vizQueryArray,vizQuerySearch]}function loadSavedSearch(sampleSearch){currentSampleSearch=_underscoreMltk2["default"].extend({},{algorithm:defaultForecastAlgorithm,algorithmParams:[]},sampleSearch),self.assistantFormView.searchBarControl.setProperties(sampleSearch.value,sampleSearch.earliestTime,sampleSearch.latestTime),forecastAlgorithmControl.val(currentSampleSearch.algorithm);var algorithmSettings=forecastAlgorithmSettings[currentSampleSearch.algorithm];null!=algorithmSettings&&forecastAlgorithmParamsControls.load(currentSampleSearch.algorithmParams,algorithmSettings.params);var controls=forecastAlgorithmParamsControls.controls,period=null!=currentSampleSearch.period&&currentSampleSearch.period>0?currentSampleSearch.period:"";controls.period.control.val(period)}function activatePredictionSearch(){!self.assistantFormView.footer.getDisabled()&&controlValidity.getAll()&&(currentSampleSearch=null,Searches.startSearch(searchManagerId))}function updateForm(newIsRunningValue){if(null!=newIsRunningValue&&(isRunning=newIsRunningValue),forecastAlgorithmControl.settings.set("disabled",isRunning),predictFieldsControl.settings.set("disabled",isRunning),forecastAlgorithmParamsControls.setDisabled(isRunning),isRunning)self.assistantFormView.footer.setDisabled(!0,"Forecasting...");else{var predictFieldsToken=Forms.getToken("predictFieldsToken"),fieldsValid=null!=predictFieldsToken&&predictFieldsToken.length>0;self.assistantFormView.footer.setDisabled(!fieldsValid)}}function updateForecastAlgorithmParamsToken(){var algorithmParams=getForecastAlgorithmParamsList().join(" ");Forms.setToken("forecastAlgorithmParamsToken",algorithmParams)}function getForecastAlgorithmParamsList(){var forecastAlgorithm=Forms.getToken("forecastAlgorithmToken"),algorithmParams=[];return null!=forecastAlgorithmSettings[forecastAlgorithm]&&forecastAlgorithmSettings[forecastAlgorithm].params.forEach(function(paramName){var tokenValue=Forms.getToken(paramName+"Token"),key=paramName,alias=void 0;alias=forecastAlgorithmParamsControls.getAlias(paramName),null!=alias?key=alias:alias=paramName,null!=tokenValue&&""!==tokenValue&&algorithmParams.push(key+"="+tokenValue)}),algorithmParams}function getAlgorithmParamsList(){var algorithmSettings=forecastAlgorithmSettings[forecastAlgorithmControl.val()];return null!=algorithmSettings?forecastAlgorithmParamsControls.serialize(algorithmSettings.params):[]}function parseOldPredictAlgorithmParams(kvstoreRecord){var settings=[],oldParams={method:kvstoreRecord["row.method"],holdback:kvstoreRecord["row.withhold"],futureTimespan:kvstoreRecord["row.future_values"],confidenceInterval:kvstoreRecord["row.confidence_interval"]},period=kvstoreRecord["row.period"];return null!=period&&""!==period&&(oldParams.period=period),Object.keys(oldParams).forEach(function(paramName){var control=forecastAlgorithmParamsControls.controls[paramName];if(null!=control){var paramValue=control.control.val();null!=paramValue&&""!==paramValue&&settings.push(paramName+"="+paramValue)}}),settings}function toggleARIMAPanels(showPanels){showPanels?(acfSeriesPanel.show(),pacfSeriesPanel.show(),acfResidualPanel.show(),pacfResidualPanel.show()):(acfSeriesPanel.hide(),pacfSeriesPanel.hide(),acfResidualPanel.hide(),pacfResidualPanel.hide())}var _this=this,self=this;_BaseAssistantView2["default"].prototype.render.call(this);var _utils$getPageInfo=_utils2["default"].getPageInfo(),appName=_utils$getPageInfo.app,showcaseName=_utils$getPageInfo.page,searchManagerId="forecastSearch",smallLoaderScale=_Options2["default"].getOptionByName("smallLoaderScale"),defaultVizHeight=_Options2["default"].getOptionByName("defaultVizHeight"),defaultForecastAlgorithm="predict",predictForecastSearchString=(0,_compactTemplateString2["default"])(_templateObject),fitForecastSearchString=(0,_compactTemplateString2["default"])(_templateObject2),forecastVizString=(0,_compactTemplateString2["default"])(_templateObject3),forecastSearchString=[predictForecastSearchString,forecastVizString].join(" "),modvizpredictExplain="forecast using a macro that formats the command output for forecast chart visualization",currentSampleSearch=null,isRunning=!1,controlValidity=new _ControlValidityStore2["default"],forecastAlgorithmSettings={predict:{params:["method","futureTimespan","holdback","confidenceInterval","period"]},ARIMA:{params:["autoregressive","integrated","movingAverage","futureTimespan","holdback","confidenceInterval"]}},showARIMAPanels=!1;Forms.setTokens({pToken:0,dToken:0,qToken:0,holdbackToken:0,futurePointsToken:5,confidenceIntervalToken:95,predictAlgorithmToken:"LLP"}),new _tokenforwarder2["default"](["$holdbackToken$","$futurePointsToken$"],"$futureTimespanToken$",function(holdbackToken,futurePointsToken){return holdbackToken+futurePointsToken}),new _tokenforwarder2["default"](["$pToken$","$dToken$","$qToken$"],"$orderToken$",function(pToken,dToken,qToken){return[pToken,dToken,qToken].join("-")});var historyCollectionId=showcaseName+"_history",historySerializer=new _ShowcaseHistorySerializer2["default"](historyCollectionId,{_time:null,search_query:null,earliest_time:null,latest_time:null,algorithm:null,algorithm_params:null,field_to_predict:null,r_squared:null,rmse:null,outliers_count:null},function(){Searches.getSearchManager("queryHistorySearch").startSearch()});!function(){Searches.setSearch("queryHistorySearch",{searchString:(0,_compactTemplateString2["default"])(_templateObject4,historyCollectionId,defaultForecastAlgorithm)})}(),function(){var algoParamsColumnName="Algorithm Parameters",queryHistoryPanel=new _QueryHistoryTable2["default"](self.$el.find("#queryHistoryPanel"),"queryHistorySearch",historyCollectionId,["Actions","_time","Search query","Forecast Algorithm","Field to predict",algoParamsColumnName,"R² Statistic","RMSE","# of outliers"],self.submitButtonText,function(params,autostart){var savedSearch={value:params.data["row.search_query"],earliestTime:params.data["row.earliest_time"],latestTime:params.data["row.latest_time"],algorithm:params.data["row.algorithm"],fieldToPredict:params.data["row.field_to_predict"],autostart:autostart},algorithmParams=null!=params.data["row.algorithm_params"]?_underscoreMltk2["default"].asArray(params.data["row.algorithm_params"]):parseOldPredictAlgorithmParams(params.data);null!=algorithmParams&&(savedSearch.algorithmParams=algorithmParams),loadSavedSearch(savedSearch),self.assistantFormView.tabs.activate("primaryTab")}).render(),stringCellRenderer=new _StringCellRenderer2["default"];queryHistoryPanel.viz.on("rendered",function(){var algoParamsCellIndex=queryHistoryPanel.options.fields.indexOf(algoParamsColumnName);algoParamsCellIndex>=0&&this.$el.find("tbody").find("tr").each(function(i){var algoParamsCell=(0,_jquery2["default"])((0,_jquery2["default"])(this).children("td")[algoParamsCellIndex]),cellData=queryHistoryPanel.getDrilldownData({rowIndex:i}),algorithmParams=cellData["row.algorithm_params"];if(null==algorithmParams||""===algorithmParams||algorithmParams===[]){var parsedAlgorithmParams=parseOldPredictAlgorithmParams(cellData);stringCellRenderer.render(algoParamsCell,{value:parsedAlgorithmParams})}})}),queryHistoryPanel.render()}();var forecastAlgorithmParamsControls=function(){function onControlChange(){var isValid=this.getValidity();controlValidity.set(this.id,isValid),isValid&&(updateForecastAlgorithmParamsToken(),void 0!==this.settings.attributes.value?Forms.setToken(this.settings.attributes.token,this.settings.attributes.value):Forms.unsetToken(this.settings.attributes.token))}var controls=new _AlgorithmParamsGroup2["default"](self.$el.find("#forecastAlgorithmParamsControlsWrapper"));return controls.addControl("method",new _dropdownview2["default"]({id:"predictAlgorithmControl",el:(0,_jquery2["default"])("<div>"),"default":Forms.getToken("predictAlgorithmToken"),labelField:"label",valueField:"value",selectFirstChoice:!0,showClearButton:!1,choices:[{label:"LLP5 (combines LLT and LLP)",value:"LLP5"},{label:"LL (local level)",value:"LL"},{label:"LLP (seasonal local level)",value:"LLP"},{label:"LLT (local level trend)",value:"LLT"}]}).on("change",function(value){Forms.setToken("predictAlgorithmToken",value)}).render(),"Method","Select the appropriate method, which will depend on whether your data has long-term trends, periodicity, or both."),controls.addControl("holdback",new _EnhancedTextInputView2["default"]({id:"holdbackControl",el:(0,_jquery2["default"])("<div>"),token:"holdbackToken","default":Forms.getToken("holdbackToken"),validator:{type:"number",message:"Value must be a positive integer or zero.",allowFloats:!1,min:0}}).on("change",onControlChange).render(),"Holdback","Withholding allows us to compare the forecast against known values (those that were withheld). \n                This comparison is done using the R² and RMSE statistics and the Forecast Outliers, below."),controls.addControl("futureTimespan",new _EnhancedTextInputView2["default"]({id:"futureTimespanControl",token:"futurePointsToken",alias:"forecast_k","default":Forms.getToken("futurePointsToken"),validator:{type:"number",message:"Value must be a positive integer or zero.",allowFloats:!1,min:0}}).on("change",onControlChange).render(),"Future Timespan","The further into the future the forecast, the less accurate it is likely to be."),controls.addControl("confidenceInterval",new _EnhancedTextInputView2["default"]({id:"confidenceIntervalControl",token:"confidenceIntervalToken","default":Forms.getToken("confidenceIntervalToken"),alias:"conf_interval",el:(0,_jquery2["default"])("<div>"),validator:{type:"number",message:"Value must be an integer between 0 and 99.",allowFloats:!1,min:0,max:99}}).on("change",onControlChange).render(),"Confidence Interval","Specify an integer between 0 and 99, where a larger value means a greater tolerance for forecast uncertainty."),controls.addControl("period",new _EnhancedTextInputView2["default"]({id:"periodValueControl",el:(0,_jquery2["default"])("<div>"),"default":"",optional:!0,validator:{type:"number",message:"Value must be a positive integer.",allowFloats:!1,min:1}}).on("change",function(value){var isValid=this.getValidity();controlValidity.set(this.id,isValid),isValid&&Forms.setToken("periodValueToken",""===value?value:"period="+value),updateForm()}).render(),"Period","If the data has a known periodicity, specify it here. For example, hourly data may have a period of 24 (one day)."),Forms.setToken("periodValueToken",controls.controls.period.control.val()),controls.addControl("autoregressive",new _EnhancedTextInputView2["default"]({id:"autoregressiveControl",el:(0,_jquery2["default"])("<div>"),token:"pToken","default":Forms.getToken("pToken"),validator:{type:"number",message:"Value must be a positive integer or zero.",allowFloats:!1,min:0}}).on("change",onControlChange).render(),"AR (autoregressive) - p","The autoregressive order - the number of time lags used in the autoregressive part of the model."),controls.addControl("integrated",new _EnhancedTextInputView2["default"]({id:"integratedControl",el:(0,_jquery2["default"])("<div>"),token:"dToken","default":Forms.getToken("dToken"),validator:{type:"number",message:"Value must be 0, 1, or 2.",allowFloats:!1,min:0,max:2}}).on("change",onControlChange).render(),"I (integrated) - d","The integrated order or degree of differences - the number of times the data have had past values subtracted."),controls.addControl("movingAverage",new _EnhancedTextInputView2["default"]({id:"movingAverageControl",el:(0,_jquery2["default"])("<div>"),token:"qToken","default":Forms.getToken("qToken"),validator:{type:"number",message:"Value must be a positive integer or zero.",allowFloats:!1,min:0}}).on("change",onControlChange).render(),"MA (moving average) - q","The moving average order - the number of data points to use in the moving average part of the model."),controls}(),forecastAlgorithmControl=function(){var control=new _dropdownview2["default"]({id:"forecastAlgorithmControl",el:self.$el.find("#forecastAlgorithmControl"),showClearButton:!1,choices:[{label:"Kalman Filter",value:"predict"},{label:"ARIMA",value:"ARIMA"}]});return control.$el.prev("label").tooltip({title:"Select the algorithm to use for forecasting."}),control.on("change",function(value){Forms.setToken("forecastAlgorithmToken",value),controlValidity.clear(_underscoreMltk2["default"].map(forecastAlgorithmParamsControls.controls,function(paramControl){return paramControl.control.id}));var algorithmSettings=forecastAlgorithmSettings[value];null!=algorithmSettings&&forecastAlgorithmParamsControls.activate(algorithmSettings.params),forecastSearchString=["predict"===value?predictForecastSearchString:fitForecastSearchString,forecastVizString].join(" "),showARIMAPanels="ARIMA"===value;var loadJobAndSearch="| loadjob $searchBarSearchJobIdToken$ "+forecastSearchString;Searches.setSearchString(searchManagerId,loadJobAndSearch),updateForecastAlgorithmParamsToken(),updateForm()}),control.render(),control}(),predictFieldsControl=function(){var control=new _dropdownview2["default"]({id:"predictFieldsControl",el:_this.$el.find("#predictFieldsControl"),managerid:"predictionFieldsSearch",labelField:"column",valueField:"column",showClearButton:!1});return control.$el.prev("label").tooltip({title:"Select the numeric field to forecast."}),control.on("datachange",function(){if(null!=currentSampleSearch){var choices=Forms.getChoiceViewChoices(control);choices.indexOf(currentSampleSearch.fieldToPredict)>=0?control.val(currentSampleSearch.fieldToPredict):currentSampleSearch=null}}),control.on("change",function(value){Forms.setToken("predictFieldsToken",value),updateForm(),null!=value&&(currentSampleSearch&&currentSampleSearch.autostart!==!1?self.assistantFormView.footer.controls.submitButton.trigger("submit"):currentSampleSearch=null)}),control.render(),control}(),regressionStatisticsPanel=function(){var footer=new _Footer2["default"](_this.$el.find("#regressionStatisticsPanel"));return footer.spinnerAnchor=footer.footer.parent(".mlts-panel"),footer}(),r2StatisticPanel=function(){return new _Master2["default"]({el:_this.$el.find("#r2StatisticPanel"),title:"R<sup>2</sup> Statistic",tooltip:{html:!0,title:"The square of the correlation coefficient between the forecasted and actual values. Better forecasts have an R<sup>2</sup> closer to 1."},viz:_singleview2["default"],vizOptions:{id:"r2StatisticViz",managerid:"regressionstatisticsSearch",field:"rSquared",numberPrecision:"0.0000",height:30},footerButtons:!1})}(),rootMeanSquaredErrorStatisticPanel=function(){return new _Master2["default"]({el:_this.$el.find("#rootMeanSquaredErrorStatisticPanel"),title:"Root Mean Squared Error (RMSE)",tooltip:"The quadratic mean of the prediction errors (residuals). Better models have a smaller RMSE.",viz:_singleview2["default"],vizOptions:{id:"rootMeanSquaredErrorStatisticViz",managerid:"regressionstatisticsSearch",field:"RMSE",numberPrecision:"0.00",height:30},footerButtons:!1})}(),predictionOutliersStatisticPanel=function(){var assistantPanel=new _Master2["default"]({el:_this.$el.find("#predictionOutliersStatisticPanel"),title:"Forecast Outliers",tooltip:"Number of values in the test period that fall outside the confidence interval.",viz:_singleview2["default"],vizOptions:{id:"predictionOutliersStatisticViz",managerid:"predictionOutliersSearch",field:"count",numberPrecision:"0",height:30}});return assistantPanel.plotOutliersOverTimeButton=(0,_jquery2["default"])("<button>").addClass("btn btn-default mlts-plot-outliers-over-time").text("Plot Outliers Over Time"),assistantPanel.footer.append(assistantPanel.plotOutliersOverTimeButton),assistantPanel}(),forecastPanel=function(){var ForecastViz=_visualizationregistry2["default"].getVisualizer(appName,"ForecastViz");return new _Master2["default"]({el:_this.$el.find("#forecastPanel"),title:"Forecast",tooltip:'The input data, forecast, and confidence intervals. Values to the right of the "training-test split" line were not shown to the algorithm. Narrower confidence intervals mean more confident predictions.',viz:ForecastViz,vizOptions:{id:"forecastViz",height:defaultVizHeight,managerid:searchManagerId},footerButtons:{scheduleAlertButton:!0}})}(),hexBlue=(0,_ColorPalette.getColorByIndex)(0,!1,!0),hexRed=(0,_ColorPalette.getColorByIndex)(2,!1,!0),hexYellow=(0,_ColorPalette.getColorByIndex)(38,!1,!0),colorArrayString=_mvc2["default"].tokenSafe("["+hexRed+", "+hexBlue+", "+hexRed+"]"),residualColorArrayString=_mvc2["default"].tokenSafe("["+hexYellow+", "+hexBlue+", "+hexYellow+"]"),commonAutoCorrelationOptions={"charting.chart.columnSpacing":"20","charting.lineDashStyle":"shortDash","charting.legend.placement":"bottom",height:defaultVizHeight},lowerTokenStart="lower$confidenceIntervalStringToken$",upperTokenStart="upper$confidenceIntervalStringToken$",acfSeriesPanel=function(){var lowerField=lowerTokenStart+"(acf($predictFieldsToken$))",upperField=upperTokenStart+"(acf($predictFieldsToken$))",assistantPanel=new _Master2["default"]({el:self.$el.find("#acfSeriesPanel"),title:"ACF Chart",tooltip:"The autocorrelation function (ACF) chart shows how correlated points are with each other, based on how many lags they are separated by.",viz:_chartview2["default"],vizOptions:_underscoreMltk2["default"].extend(commonAutoCorrelationOptions,{id:"acfSeriesViz",managerid:"acfSeriesPlotSearch","charting.chart.overlayFields":_mvc2["default"].tokenSafe(lowerField+","+upperField),"charting.chart.seriesColors":colorArrayString})});return assistantPanel}(),pacfSeriesPanel=function(){var lowerField=lowerTokenStart+"(pacf($predictFieldsToken$))",upperField=upperTokenStart+"(pacf($predictFieldsToken$))",assistantPanel=new _Master2["default"]({el:self.$el.find("#pacfSeriesPanel"),title:"PACF Chart",tooltip:"The partial autocorrelation function (PACF) chart shows how correlated points are with each other, based on how many lags they are separated by, while controlling for the correlation caused by earlier lags.",viz:_chartview2["default"],vizOptions:_underscoreMltk2["default"].extend(commonAutoCorrelationOptions,{id:"pacfSeriesViz",managerid:"pacfSeriesPlotSearch","charting.chart.overlayFields":_mvc2["default"].tokenSafe(lowerField+","+upperField),"charting.chart.seriesColors":colorArrayString})});return assistantPanel}(),acfResidualPanel=function(){var lowerField=lowerTokenStart+"(acf(residual))",upperField=upperTokenStart+"(acf(residual))",assistantPanel=new _Master2["default"]({el:self.$el.find("#acfResidualPanel"),title:"ACF Residual Chart",tooltip:"The residual autocorrelation function (ACF) chart shows how correlated residuals (errors) are with each other, based on how many lags they are separated by.",viz:_chartview2["default"],vizOptions:_underscoreMltk2["default"].extend(commonAutoCorrelationOptions,{id:"acfResidualViz",managerid:"acfResidualPlotSearch","charting.chart.overlayFields":_mvc2["default"].tokenSafe(lowerField+","+upperField),"charting.chart.seriesColors":residualColorArrayString})});return assistantPanel}(),pacfResidualPanel=function(){var lowerField=lowerTokenStart+"(pacf(residual))",upperField=upperTokenStart+"(pacf(residual))",assistantPanel=new _Master2["default"]({el:self.$el.find("#pacfResidualPanel"),title:"PACF Residual Chart",tooltip:"The residual partial autocorrelation function (PACF) chart shows how correlated residuals (errors) are with each other, based on how many lags they are separated by, while controlling for the correlation caused by earlier lags.",viz:_chartview2["default"],vizOptions:_underscoreMltk2["default"].extend(commonAutoCorrelationOptions,{id:"pacfResidualViz",managerid:"pacfResidualPlotSearch","charting.chart.overlayFields":_mvc2["default"].tokenSafe(lowerField+","+upperField),"charting.chart.seriesColors":residualColorArrayString})});return assistantPanel}();return this.assistantFormView.searchBarControl.events.on("change",function(){Forms.clearChoiceView(predictFieldsControl,!0),Forms.unsetToken("predictFieldsToken"),updateForm()}),this.assistantFormView.footer.controls.submitButton.on("submit",function(){self.model.experiment?(updateExperiment(),self.model.experiment.save({},{success:function(model,response){activatePredictionSearch()},error:function(model,response){self.showErrorMessage(response.responseText)}})):activatePredictionSearch()}),function(){var searchBarSearch=Searches.getSearchManager("searchBarSearch");searchBarSearch.on("onStartCallback",function(){self.hideErrorMessage(),self.hideResults()}),searchBarSearch.on("onErrorCallback",function(errorMessage){self.showErrorMessage(errorMessage),self.hideResults()})}(),function(){Searches.setSearch("predictionFieldsSearch",{searchString:(0,_compactTemplateString2["default"])(_templateObject5),onStartCallback:function(){self.hideErrorMessage()},onErrorCallback:function(errorMessage){self.showErrorMessage(errorMessage),self.hideResults()}})}(),function(){function openInSearch(){var _getVizQuery=getVizQuery(),_getVizQuery2=_slicedToArray(_getVizQuery,2);vizQueryArray=_getVizQuery2[0],vizQuerySearch=_getVizQuery2[1],window.open(DrilldownLinker.getUrl("search",vizQuerySearch,vizOptions),"_blank")}function showSPL(e){var modalTitle=forecastPanel.showSPLButton.first().is((0,_jquery2["default"])(e.target))?"Plot forecast":"Calculate the forecast",_getVizQuery3=getVizQuery(),_getVizQuery4=_slicedToArray(_getVizQuery3,2);vizQueryArray=_getVizQuery4[0],vizQuerySearch=_getVizQuery4[1],(0,_SearchStringDisplay.showSearchStringModal)(searchManagerId+"Modal",modalTitle,vizQueryArray,[null,[modvizpredictExplain]],self.model.searchInfo.get("baseTimerange"),vizOptions)}var vizQueryArray=[],vizQuerySearch=null,vizOptions=DrilldownLinker.parseVizOptions({category:"custom",type:appName+".ForecastViz"});self.assistantFormView.footer.controls.openInSearchButton.on("click",openInSearch),self.assistantFormView.footer.controls.showSPLButton.on("click",showSPL),forecastPanel.openInSearchButton.on("click",openInSearch),
forecastPanel.showSPLButton.on("click",showSPL),forecastPanel.scheduleAlertButton.on("click",function(){new _NumericValueAlertModal2["default"]({baseSearchString:Forms.parseTemplate(self.model.searchInfo.get("baseSearchString")+" "+forecastSearchString+" | tail $futurePointsToken$"),predictedFieldName:"prediction",predictionDisplayPhrase:'Alert me when the future predicted value of "'+Forms.getToken("predictFieldsToken")+'" is'}).render().appendTo((0,_jquery2["default"])("body")).show()}),Searches.setSearch(searchManagerId,{autostart:!1,targetJobIdTokenName:"predictJobIdToken",searchString:"| loadjob $searchBarSearchJobIdToken$ "+forecastSearchString,onStartCallback:function(){Spinners.showLoadingOverlay([forecastPanel.viz.$el,acfResidualPanel.viz.$el,pacfResidualPanel.viz.$el]),self.hideErrorMessage(),updateForm(!0),currentSampleSearch=null;var searchManager=Searches.getSearchManager(searchManagerId),jobId=Searches.getSid(searchManager),searchAttributes=Searches.getSearchManager("searchBarSearch").search.attributes,collection={_time:parseInt((new Date).valueOf()/1e3,10),algorithm:forecastAlgorithmControl.val(),search_query:searchAttributes.search,earliest_time:searchAttributes.earliest_time,latest_time:searchAttributes.latest_time,field_to_predict:predictFieldsControl.val(),algorithm_params:getAlgorithmParamsList()};historySerializer.persist(jobId,collection);var _getVizQuery5=getVizQuery(),_getVizQuery6=_slicedToArray(_getVizQuery5,2);vizQueryArray=_getVizQuery6[0],vizQuerySearch=_getVizQuery6[1],DrilldownLinker.setSearchDrilldown(forecastPanel.title,vizQuerySearch,vizOptions),showARIMAPanels&&(Searches.startSearch("acfSeriesPlotSearch"),Searches.startSearch("pacfSeriesPlotSearch")),toggleARIMAPanels(showARIMAPanels)},onDoneCallback:function(){updateConfidenceIntervalStringToken(),self.showResults(),Searches.getSearchManager("predictionOutliersSearch").startSearch(),Searches.getSearchManager("regressionstatisticsSearch").startSearch(),showARIMAPanels?(Searches.getSearchManager("acfResidualPlotSearch").startSearch(),Searches.getSearchManager("pacfResidualPlotSearch").startSearch()):toggleARIMAPanels(!1)},onErrorCallback:function(errorMessage){self.showErrorMessage(errorMessage),self.hideResults()},onFinallyCallback:function(){updateForm(!1),Spinners.hideLoadingOverlay(forecastPanel.viz.$el)}})}(),function(){var identifyOutliersSearchQueryArray=[(0,_compactTemplateString2["default"])(_templateObject6)],findOutliersSearchQueryArray=identifyOutliersSearchQueryArray.concat(["| where isOutlier=1","| fields - isOutlier"]),outlierExplain="find the outliers among events that have both an actual and a predicted value",vizQueryArray=[],vizQuerySearch=null,outliersOverTimeVizOptions=DrilldownLinker.parseVizOptions({category:"custom",type:appName+".LinesViz"});predictionOutliersStatisticPanel.openInSearchButton.on("click",function(){window.open(DrilldownLinker.getUrl("search",vizQuerySearch),"_blank")}),predictionOutliersStatisticPanel.showSPLButton.on("click",function(){(0,_SearchStringDisplay.showSearchStringModal)("predictionOutliersSearchStringDisplayModal","Show forecast outliers",vizQueryArray,[null,modvizpredictExplain,outlierExplain],self.model.searchInfo.get("baseTimerange"))}),predictionOutliersStatisticPanel.plotOutliersOverTimeButton.on("click",function(){var _getVizQuery7=getVizQuery([forecastSearchString].concat(identifyOutliersSearchQueryArray)),_getVizQuery8=_slicedToArray(_getVizQuery7,2);vizQueryArray=_getVizQuery8[0],vizQuerySearch=_getVizQuery8[1];var outliersOverTimeSearch=DrilldownLinker.createSearch(vizQueryArray.concat(["| table _time, isOutlier"]),self.model.searchInfo.get("baseTimerange"));window.open(DrilldownLinker.getUrl("search",outliersOverTimeSearch,outliersOverTimeVizOptions),"_blank")}),Searches.setSearch("predictionOutliersSearch",{autostart:!1,searchString:["| loadjob $predictJobIdToken$"].concat(findOutliersSearchQueryArray,["| stats count"]),onStartCallback:function(){Spinners.showLoadingOverlay(predictionOutliersStatisticPanel.viz.$el,smallLoaderScale);var _getVizQuery9=getVizQuery([forecastSearchString].concat(findOutliersSearchQueryArray)),_getVizQuery10=_slicedToArray(_getVizQuery9,2);vizQueryArray=_getVizQuery10[0],vizQuerySearch=_getVizQuery10[1],DrilldownLinker.setSearchDrilldown(predictionOutliersStatisticPanel.title,vizQuerySearch)},onDataCallback:function(data){var searchManager=Searches.getSearchManager(searchManagerId),jobId=Searches.getSid(searchManager),resultIndex=data.fields.indexOf("count"),collection={outliers_count:data.rows[0][resultIndex]};historySerializer.persist(jobId,collection)},onFinallyCallback:function(){Spinners.hideLoadingOverlay(predictionOutliersStatisticPanel.viz.$el)}})}(),function(){var regressionstatisticsSearchQueryArray=['| where prediction!="" AND \'$predictFieldsToken$\' != ""',"| `regressionstatistics($predictFieldsToken|s$, prediction)`"],vizQueryArray=[],vizQuerySearch=null;regressionStatisticsPanel.openInSearchButton.on("click",function(){window.open(DrilldownLinker.getUrl("search",vizQuerySearch),"_blank")}),regressionStatisticsPanel.showSPLButton.on("click",function(){(0,_SearchStringDisplay.showSearchStringModal)("regressionstatisticsSearchStringDisplayModal","Compute R² and root mean squared error (RMSE)",vizQueryArray,[null,modvizpredictExplain,null,"use the `regressionstatistics` macro to compute R² and RMSE"],self.model.searchInfo.get("baseTimerange"))}),Searches.setSearch("regressionstatisticsSearch",{autostart:!1,searchString:["| loadjob $predictJobIdToken$"].concat(regressionstatisticsSearchQueryArray),onStartCallback:function(){Spinners.showLoadingOverlay(regressionStatisticsPanel.spinnerAnchor,smallLoaderScale);var _getVizQuery11=getVizQuery([forecastSearchString].concat(regressionstatisticsSearchQueryArray)),_getVizQuery12=_slicedToArray(_getVizQuery11,2);vizQueryArray=_getVizQuery12[0],vizQuerySearch=_getVizQuery12[1],DrilldownLinker.setSearchDrilldown(r2StatisticPanel.title,vizQuerySearch),DrilldownLinker.setSearchDrilldown(rootMeanSquaredErrorStatisticPanel.title,vizQuerySearch)},onDataCallback:function(data){var searchManager=Searches.getSearchManager(searchManagerId),jobId=Searches.getSid(searchManager),r2Index=data.fields.indexOf("rSquared"),rmseIndex=data.fields.indexOf("RMSE"),collection={rmse:data.rows[0][rmseIndex],r_squared:data.rows[0][r2Index]};historySerializer.persist(jobId,collection)},onFinallyCallback:function(){Spinners.hideLoadingOverlay(regressionStatisticsPanel.spinnerAnchor)}})}(),function(){var sharedSearchArray=["| fit ACF $predictFieldsToken|s$ conf_interval=$confidenceIntervalToken$",'| table Lag "lower$confidenceIntervalToken$(acf($predictFieldsToken$))" "acf($predictFieldsToken$)" "upper$confidenceIntervalToken$(acf($predictFieldsToken$))"'],vizQueryArray=[],vizQuerySearch=null;acfSeriesPanel.openInSearchButton.on("click",function(){window.open(DrilldownLinker.getUrl("search",vizQuerySearch),"_blank")}),acfSeriesPanel.showSPLButton.on("click",function(){(0,_SearchStringDisplay.showSearchStringModal)("acfSearchStringDisplayModal","Open the autocorrelation chart in search.",vizQueryArray,[null,"calculate autocorrelation",null],self.model.searchInfo.get("baseTimerange"))});var vizOptions=DrilldownLinker.parseVizOptions({category:"charting",type:"column"});Searches.setSearch("acfSeriesPlotSearch",{searchString:["| loadjob $searchBarSearchJobIdToken$"].concat(sharedSearchArray),autostart:!1,onStartCallback:function(){Spinners.showLoadingOverlay(acfSeriesPanel.viz.$el),vizQueryArray=[self.model.searchInfo.get("baseSearchString")].concat(sharedSearchArray),vizQuerySearch=DrilldownLinker.createSearch(vizQueryArray,self.model.searchInfo.get("baseTimerange")),DrilldownLinker.setSearchDrilldown(acfSeriesPanel.title,vizQuerySearch,vizOptions)},onFinallyCallback:function(){Spinners.hideLoadingOverlay(acfSeriesPanel.viz.$el)}})}(),function(){var sharedSearchArray=["| fit PACF $predictFieldsToken|s$ conf_interval=$confidenceIntervalToken$",'| table Lag "lower$confidenceIntervalToken$(pacf($predictFieldsToken$))" "pacf($predictFieldsToken$)" "upper$confidenceIntervalToken$(pacf($predictFieldsToken$))"'],vizQueryArray=[],vizQuerySearch=null;pacfSeriesPanel.openInSearchButton.on("click",function(){window.open(DrilldownLinker.getUrl("search",vizQuerySearch),"_blank")}),pacfSeriesPanel.showSPLButton.on("click",function(){(0,_SearchStringDisplay.showSearchStringModal)("pacfSearchStringDisplayModal","Open the partial autocorrelation chart in search.",vizQueryArray,[null,"calculate partial autocorrelation",null],self.model.searchInfo.get("baseTimerange"))});var vizOptions=DrilldownLinker.parseVizOptions({category:"charting",type:"column"});Searches.setSearch("pacfSeriesPlotSearch",{searchString:["| loadjob $searchBarSearchJobIdToken$"].concat(sharedSearchArray),autostart:!1,onStartCallback:function(){Spinners.showLoadingOverlay(pacfSeriesPanel.viz.$el),vizQueryArray=[self.model.searchInfo.get("baseSearchString")].concat(sharedSearchArray),vizQuerySearch=DrilldownLinker.createSearch(vizQueryArray,self.model.searchInfo.get("baseTimerange")),DrilldownLinker.setSearchDrilldown(pacfSeriesPanel.title,vizQuerySearch,vizOptions)},onFinallyCallback:function(){Spinners.hideLoadingOverlay(pacfSeriesPanel.viz.$el)}})}(),function(){var sharedSearchArray=["| eval residual = '$predictFieldsToken$' - prediction","| fit ACF residual conf_interval=$confidenceIntervalToken$",'| table Lag "lower$confidenceIntervalToken$(acf(residual))" "acf(residual)" "upper$confidenceIntervalToken$(acf(residual))"'],vizQueryArray=[],vizQuerySearch=null;acfResidualPanel.openInSearchButton.on("click",function(){window.open(DrilldownLinker.getUrl("search",vizQuerySearch),"_blank")}),acfResidualPanel.showSPLButton.on("click",function(){(0,_SearchStringDisplay.showSearchStringModal)("acfResidualSearchStringDisplayModal","Open the residual autocorrelation chart in search.",vizQueryArray,[null,"fit ARIMA model","calculate residual (error)","calculate autocorrelation on residuals",null],self.model.searchInfo.get("baseTimerange"))});var vizOptions=DrilldownLinker.parseVizOptions({category:"charting",type:"column"});Searches.setSearch("acfResidualPlotSearch",{searchString:["| loadjob $predictJobIdToken$"].concat(sharedSearchArray),autostart:!1,onStartCallback:function(){var _getVizQuery13=getVizQuery([fitForecastSearchString].concat(sharedSearchArray)),_getVizQuery14=_slicedToArray(_getVizQuery13,2);vizQueryArray=_getVizQuery14[0],vizQuerySearch=_getVizQuery14[1],DrilldownLinker.setSearchDrilldown(acfResidualPanel.title,vizQuerySearch,vizOptions)},onFinallyCallback:function(){Spinners.hideLoadingOverlay(acfResidualPanel.viz.$el)}})}(),function(){var sharedSearchArray=["| eval residual = '$predictFieldsToken$' - prediction","| fit PACF residual conf_interval=$confidenceIntervalToken$",'| table Lag "lower$confidenceIntervalToken$(pacf(residual))" "pacf(residual)" "upper$confidenceIntervalToken$(pacf(residual))"'],vizQueryArray=[],vizQuerySearch=null;pacfResidualPanel.openInSearchButton.on("click",function(){window.open(DrilldownLinker.getUrl("search",vizQuerySearch),"_blank")}),pacfResidualPanel.showSPLButton.on("click",function(){(0,_SearchStringDisplay.showSearchStringModal)("pacfResidualSearchStringDisplayModal","Open the partial autocorrelation chart in search.",vizQueryArray,[null,"fit ARIMA model","calculate residual (error)","calculate partial autocorrelation on residuals",null],self.model.searchInfo.get("baseTimerange"))});var vizOptions=DrilldownLinker.parseVizOptions({category:"charting",type:"column"});Searches.setSearch("pacfResidualPlotSearch",{searchString:["| loadjob $predictJobIdToken$"].concat(sharedSearchArray),autostart:!1,onStartCallback:function(){var _getVizQuery15=getVizQuery([fitForecastSearchString].concat(sharedSearchArray)),_getVizQuery16=_slicedToArray(_getVizQuery15,2);vizQueryArray=_getVizQuery16[0],vizQuerySearch=_getVizQuery16[1],DrilldownLinker.setSearchDrilldown(pacfResidualPanel.title,vizQuerySearch,vizOptions)},onFinallyCallback:function(){Spinners.hideLoadingOverlay(pacfResidualPanel.viz.$el)}})}(),this.sampleSearchDeferred.done(loadSavedSearch),setTimeout(updateForm,0),this},controlsTemplate:'\n        <div class="mlts-input">\n            <label>Algorithm</label>\n            <div id="forecastAlgorithmControl"></div>\n        </div>\n        <div class="mlts-input">\n            <label>Field to forecast</label>\n            <div id="predictFieldsControl"></div>\n        </div>\n        <div id="forecastAlgorithmParamsControlsWrapper"></div>\n    ',template:'\n        <div class="mlts-row mlts-results-row">\n            <div class="mlts-cell">\n                 <div class="mlts-panel" id="acfSeriesPanel"></div>\n            </div>\n            <div class="mlts-cell">\n                 <div class="mlts-panel" id="pacfSeriesPanel"></div>\n            </div>\n        </div>\n        <div class="mlts-row mlts-results-row">\n            <div class="mlts-cell">\n                <div class="mlts-panel" id="forecastPanel"></div>\n            </div>\n        </div>\n        <div class="mlts-row mlts-results-row">\n            <div class="mlts-cell">\n                 <div class="mlts-panel" id="acfResidualPanel"></div>\n            </div>\n            <div class="mlts-cell">\n                 <div class="mlts-panel" id="pacfResidualPanel"></div>\n            </div>\n        </div>\n        <div class="mlts-row mlts-results-row">\n            <div class="mlts-cell">\n                <div class="mlts-panel" id="regressionStatisticsPanel">\n                    <div class="mlts-stats-panel">\n                        <div id="r2StatisticPanel"></div>\n                        <div id="rootMeanSquaredErrorStatisticPanel"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="mlts-cell">\n                <div class="mlts-panel" id="predictionOutliersStatisticPanel"></div>\n            </div>\n        </div>\n    '}),forecastView=new ForecastView;forecastView.deferreds.viewReady.done(function(layout){layout.getContainerElement().appendChild(forecastView.render().el)})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunkjs/mvc/tokenforwarder":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var _=__webpack_require__("require/underscore"),Backbone=__webpack_require__("require/backbone"),mvc=__webpack_require__("splunkjs/mvc/mvc"),TokenUtils=__webpack_require__("splunkjs/mvc/tokenutils"),TokenForwarder=function(){TokenForwarder.prototype.initialize.apply(this,arguments)};return _.extend(TokenForwarder,{NO_CHANGE:{_forwardNoChange:!0}}),_.extend(TokenForwarder.prototype,{initialize:function(inputTokenOrList,outputToken,filterFunc){var outputTokenDesc,inputTokens=_.isString(inputTokenOrList)?[inputTokenOrList]:inputTokenOrList,inputTokenDescs=_.map(inputTokens,function(inputToken){if(!TokenUtils.isToken(inputToken))throw new Error("Not a valid input token: "+inputToken);var inputTokenDesc=TokenUtils.getTokens(inputToken)[0];if(inputTokenDesc.filters.length>0)throw new Error("Input token may not have filters: "+inputToken);return inputTokenDesc});if(!TokenUtils.isToken(outputToken))throw new Error("Not a valid output token: "+outputToken);if(outputTokenDesc=TokenUtils.getTokens(outputToken)[0],outputTokenDesc.filters.length>0)throw new Error("Output token may not have filters: "+outputToken);var recomputeOutputToken=function(){var inputValues=_.map(inputTokenDescs,function(tokenDesc){var ns=mvc.Components.getInstance(tokenDesc.namespace,{create:!0});return ns.get(tokenDesc.name)}),outputValue=filterFunc.apply(null,inputValues),ns=mvc.Components.getInstance(outputTokenDesc.namespace,{create:!0});outputValue!==TokenForwarder.NO_CHANGE&&ns.set(outputTokenDesc.name,outputValue)};this._listeners=_.extend({},Backbone.Events),_.each(inputTokenDescs,function(tokenDesc){var ns=mvc.Components.getInstance(tokenDesc.namespace,{create:!0});this._listeners.listenTo(ns,"change:"+tokenDesc.name,recomputeOutputToken)},this),recomputeOutputToken()},dispose:function(){this._listeners.stopListening()}}),TokenForwarder}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}});